!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.ReactComplexTree=t(require("React")):e.ReactComplexTree=t(e.React)}(self,(e=>(()=>{"use strict";var t={9660:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var i=function(){function e(e){this.handlerCount=0,this.handlers=[],this.options=e}return Object.defineProperty(e.prototype,"numberOfHandlers",{get:function(){return this.handlers.filter((function(e){return!!e})).length},enumerable:!1,configurable:!0}),e.prototype.emit=function(e){var t,i;return n(this,void 0,void 0,(function(){var n,o,a,u,l;return r(this,(function(r){switch(r.label){case 0:for(n=[],null===(i=null===(t=this.options)||void 0===t?void 0:t.logger)||void 0===i||i.call(t,"emit",e),o=0,a=this.handlers;o<a.length;o++)(u=a[o])&&"function"==typeof(null==(l=u(e))?void 0:l.then)&&n.push(l);return[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},e.prototype.on=function(e){var t,n;return null===(n=null===(t=this.options)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"on"),this.handlers.push(e),this.handlerCount++},e.prototype.off=function(e){this.delete(e)},e.prototype.delete=function(e){var t,n;null===(n=null===(t=this.options)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"off"),this.handlers[e]=null},e}();t.EventEmitter=i},5144:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ControlledTreeEnvironment=t.useTreeEnvironment=void 0;var a=o(n(1024)),u=n(1024),l=n(6981),c=n(2227),s=n(6886),d=n(5497),f=a.createContext(null);t.useTreeEnvironment=function(){return(0,u.useContext)(f)},t.ControlledTreeEnvironment=a.forwardRef((function(e,t){var n=(0,d.useControlledTreeEnvironmentProps)(e),r=e.viewState,i=e.onFocusItem;return(0,u.useEffect)((function(){for(var t,o,a,u=0,l=Object.keys(n.trees);u<l.length;u++){var c=l[u],s=null===(o=null===(t=e.items[n.trees[c].rootItem])||void 0===t?void 0:t.children)||void 0===o?void 0:o[0],d=s&&e.items[s];!(null===(a=r[c])||void 0===a?void 0:a.focusedItem)&&n.trees[c]&&d&&(null==i||i(d,c,!1))}}),[n.trees,i,e.items,r]),a.createElement(f.Provider,{value:n},a.createElement(l.InteractionManagerProvider,null,a.createElement(c.DragAndDropProvider,null,a.createElement(s.EnvironmentActionsProvider,{ref:t},e.children))))}))},6981:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionManagerProvider=t.useInteractionManager=void 0;var a=o(n(1024)),u=n(1024),l=n(9699),c=n(5144),s=n(4502),d=n(1232),f=a.createContext(null);t.useInteractionManager=function(){return a.useContext(f)},t.InteractionManagerProvider=function(e){var t=e.children,n=(0,c.useTreeEnvironment)(),r=n.defaultInteractionMode,i=(0,u.useMemo)((function(){var e;return r&&"string"!=typeof r?r.extends?(0,s.mergeInteractionManagers)(r,(0,d.buildInteractionMode)(r.extends,n)):r:(0,d.buildInteractionMode)(null!==(e=r)&&void 0!==e?e:l.InteractionMode.ClickItemToExpand,n)}),[]);return a.createElement(f.Provider,{value:i},t)}},1232:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.buildInteractionMode=void 0;var r=n(9699),i=n(428),o=n(7274),a=n(8435);t.buildInteractionMode=function(e,t){switch(e){case r.InteractionMode.DoubleClickItemToExpand:return new i.DoubleClickItemToExpandInteractionManager(t);case r.InteractionMode.ClickItemToExpand:return new o.ClickItemToExpandInteractionManager(t);case r.InteractionMode.ClickArrowToExpand:return new a.ClickArrowToExpandInteractionManager(t);default:throw Error("Unknown interaction mode ".concat(e))}}},9933:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isOutsideOfContainer=t.computeItemHeight=void 0;var r=n(8593);t.computeItemHeight=function(e){var t,n=null===(t=(0,r.getDocument)())||void 0===t?void 0:t.querySelector('[data-rct-tree="'.concat(e,'"] [data-rct-item-container="true"]'));if(n){var i=getComputedStyle(n);return n.offsetHeight+Math.max(parseFloat(i.marginTop),parseFloat(i.marginBottom))}return 5},t.isOutsideOfContainer=function(e,t){return e.clientX<=t.left||e.clientX>=t.right||e.clientY<=t.top||e.clientY>=t.bottom}},4502:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInteractionManagers=void 0,t.mergeInteractionManagers=function(e,t){return{mode:e.mode,createInteractiveElementProps:function(r,i,o,a){return n(n({},t.createInteractiveElementProps(r,i,o,a)),e.createInteractiveElementProps(r,i,o,a))}}}},5497:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.useControlledTreeEnvironmentProps=void 0;var o=n(1024),a=n(3669),u=n(8717),l=n(8593),c=n(951),s=n(8836);t.useControlledTreeEnvironmentProps=function(e){var t=e.onExpandItem,n=e.onCollapseItem,d=e.onDrop,f=i(e,["onExpandItem","onCollapseItem","onDrop"]),v=(0,o.useState)({}),m=v[0],p=v[1],g=(0,o.useState)(),h=g[0],I=g[1],b=(0,o.useMemo)((function(){return Object.keys(m)}),[m]),y=f.onFocusItem,_=f.autoFocus,D=f.onRegisterTree,P=f.onUnregisterTree,x=f.items,O=f.viewState,w=(0,s.useRefCopy)(y),T=(0,s.useRefCopy)(O),E=(0,o.useMemo)((function(){return(0,l.buildMapForTrees)(b,(function(e){var t;return(0,c.getItemsLinearly)(m[e].rootItem,null!==(t=O[e])&&void 0!==t?t:{},x)}))}),[m,x,b,O]),C=(0,o.useCallback)((function(e,t,n){var r,i,o,u,c,s,d,f,v;if(void 0===n&&(n=!0),(null==_||_)&&n){var m=null!==(i=null===(r=(0,l.getDocument)())||void 0===r?void 0:r.querySelector('[data-rct-tree="'.concat(t,'"] [data-rct-item-id="').concat(e.index,'"]')))&&void 0!==i?i:null===(o=(0,l.getDocument)())||void 0===o?void 0:o.querySelector('[data-rct-tree="'.concat(t,'"] [data-rct-item-id]'));"true"!==(null===(s=null===(c=null===(u=(0,l.getDocument)())||void 0===u?void 0:u.activeElement)||void 0===c?void 0:c.attributes.getNamedItem("data-rct-search-input"))||void 0===s?void 0:s.value)?null===(d=null==m?void 0:m.focus)||void 0===d||d.call(m):(0,a.scrollIntoView)(m)}(null===(f=T.current[t])||void 0===f?void 0:f.focusedItem)!==e.index&&(null===(v=w.current)||void 0===v||v.call(w,e,t))}),[_,w,T]),M=(0,o.useCallback)((function(e){p((function(t){var n;return r(r({},t),((n={})[e.treeId]=e,n))})),null==D||D(e)}),[D]),S=(0,o.useCallback)((function(e){null==P||P(m[e]),delete m[e],p(m)}),[P,m]),j=(0,o.useCallback)((function(e,t){null==n||n(e,t),p((function(e){return e}))}),[n]),k=(0,o.useCallback)((function(e,n){null==t||t(e,n),p((function(e){return e}))}),[t]),R=(0,o.useCallback)((function(e,t){null==d||d(e,t),p((function(e){return e}))}),[d]),A=(0,o.useCallback)((function(e){var t,n,r=null===(t=(0,l.getDocument)())||void 0===t?void 0:t.querySelector('[data-rct-tree="'.concat(e,'"] [data-rct-item-focus="true"]'));null===(n=null==r?void 0:r.focus)||void 0===n||n.call(r)}),[]),L=(0,o.useCallback)((function(e,t){void 0===t&&(t=!0);var n=function(e){var n,r;t&&(null==_||_)&&e&&!(null===(r=null===(n=(0,l.getDocument)())||void 0===n?void 0:n.querySelector('[data-rct-tree="'.concat(e,'"]')))||void 0===r?void 0:r.contains(document.activeElement))&&A(e)};if("function"==typeof e)I((function(t){var r=e(t);return r!==t&&n(r),r}));else{var r=e;I(r),n(r)}}),[_,A]),F=(0,u.useRenderers)(f);return r(r(r({},F),f),{onFocusItem:C,registerTree:M,unregisterTree:S,onExpandItem:k,onCollapseItem:j,onDrop:R,setActiveTree:L,treeIds:b,trees:m,activeTreeId:h,linearItems:E})}},7674:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLinearItems=void 0;var r=n(5144);t.useLinearItems=function(e){return(0,r.useTreeEnvironment)().linearItems[e]}},2227:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropProvider=t.useDragAndDrop=void 0;var a=o(n(1024)),u=n(1024),l=n(5144),c=n(4750),s=n(1959),d=n(6160),f=n(8593),v=n(5260),m=n(5265),p=n(3238),g=n(4618),h=n(9933),I=a.createContext(null);t.useDragAndDrop=function(){return a.useContext(I)},t.DragAndDropProvider=function(e){var t=e.children,n=(0,l.useTreeEnvironment)(),r=(0,u.useState)(!1),i=r[0],o=r[1],b=(0,u.useState)({}),y=b[0],_=b[1],D=(0,u.useState)(0),P=D[0],x=D[1],O=(0,u.useState)(),w=O[0],T=O[1],E=(0,s.useGetViableDragPositions)(),C=(0,v.useCallSoon)(),M=(0,p.useGetOriginalItemOrder)(),S=(0,g.useDraggingPosition)(),j=S.initiateDraggingPosition,k=S.resetDraggingPosition,R=S.draggingItems,A=S.getDraggingPosition,L=S.itemHeight,F=(0,u.useCallback)((function(e,t){var r;if(n.activeTreeId&&(null===(r=n.viewState[n.activeTreeId])||void 0===r?void 0:r.focusedItem)&&n.linearItems&&t){var i=n.viewState[n.activeTreeId].focusedItem,o=E(n.activeTreeId,t),a=o.findIndex((function(e){return"item"===e.targetType?e.targetItem===i:"between-items"===e.targetType&&n.items[e.parentItem].children[e.childIndex]===i}));x(a?Math.min(a+1,o.length-1):0)}else x(0)}),[n.activeTreeId,n.items,n.linearItems,n.viewState,E]),B=(0,m.useStableHandler)((function(){o(!1),_({}),x(0),T(void 0),k()}));(0,d.useSideEffect)((function(){n.activeTreeId&&n.linearItems[n.activeTreeId]&&y[n.activeTreeId]&&F(y[n.activeTreeId],R)}),[R,n.activeTreeId,n.linearItems,F,y],[n.activeTreeId]),(0,d.useSideEffect)((function(){i&&n.activeTreeId&&T(y[n.activeTreeId][P])}),[P,n.activeTreeId,i,y],[P,n.activeTreeId]);var H=(0,c.useCanDropAt)(),N=(0,m.useStableHandler)((function(e,t,r){if(R){var i=A(e,t,r);i&&("invalid"!==i?function(e){var t;R&&!H(e,R)||(T(e),n.setActiveTree(e.treeId),R&&n.activeTreeId!==e.treeId&&(null===(t=n.onSelectItems)||void 0===t||t.call(n,R.map((function(e){return e.index})),e.treeId)))}(i):T(void 0))}})),K=(0,m.useStableHandler)((function(e,t){t.current&&(0,h.isOutsideOfContainer)(e,t.current.getBoundingClientRect())&&T(void 0)})),U=(0,m.useStableHandler)((function(){R&&w&&n.onDrop&&(n.onDrop(R,w),C((function(){var e;null===(e=n.onFocusItem)||void 0===e||e.call(n,R[0],w.treeId),B()})))})),G=(0,u.useCallback)((function(e,t){var r=(0,f.buildMapForTrees)(n.treeIds,(function(t){return E(t,e)}));j(t,e),_(r),n.activeTreeId&&F(r[n.activeTreeId],e)}),[n.activeTreeId,n.treeIds,E,j,F]),V=(0,u.useCallback)((function(){var e,t,r;if(n.canDragAndDrop&&n.activeTreeId){var i=null!==(t=null===(e=n.viewState[n.activeTreeId])||void 0===e?void 0:e.selectedItems)&&void 0!==t?t:[null===(r=n.viewState[n.activeTreeId])||void 0===r?void 0:r.focusedItem];if(0===i.length||void 0===i[0])return;var a=M(n.activeTreeId,i.map((function(e){return n.items[e]})));if(n.canDrag&&!n.canDrag(a))return;G(a,n.activeTreeId),setTimeout((function(){o(!0)}))}}),[n,M,G]),q=(0,u.useCallback)((function(){B()}),[B]),W=(0,u.useCallback)((function(){U(),B()}),[U,B]),X=(0,u.useCallback)((function(){x((function(e){return Math.max(0,e-1)}))}),[]),Y=(0,u.useCallback)((function(){n.activeTreeId&&x((function(e){return Math.min(y[n.activeTreeId].length-1,e+1)}))}),[n.activeTreeId,y]),z=(0,u.useMemo)((function(){return{onStartDraggingItems:G,startProgrammaticDrag:V,abortProgrammaticDrag:q,completeProgrammaticDrag:W,programmaticDragUp:X,programmaticDragDown:Y,draggingItems:R,draggingPosition:w,itemHeight:L.current,isProgrammaticallyDragging:i,onDragOverTreeHandler:N,onDragLeaveContainerHandler:K,viableDragPositions:y}}),[q,W,R,w,i,L,N,K,G,Y,X,V,y]);return(0,u.useEffect)((function(){return window.addEventListener("dragend",B),window.addEventListener("drop",U),function(){window.removeEventListener("dragend",B),window.removeEventListener("drop",U)}}),[U,B]),a.createElement(I.Provider,{value:z},t)}},7095:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DraggingPositionEvaluation=void 0;var n=function(){function e(e,t,n,r,i,o){this.env=e,this.e=t,this.treeId=n,this.linearIndex=r.linearIndex,this.offset=r.offset,this.indentation=r.indentation,this.targetItem=this.env.linearItems[this.treeId][this.linearIndex],this.getParentOfLinearItem=o,this.draggingItems=i}return e.prototype.getEmptyTreeDragPosition=function(){return{targetType:"root",treeId:this.treeId,depth:0,linearIndex:0,targetItem:this.env.trees[this.treeId].rootItem}},e.prototype.maybeRedirectToParent=function(){if(!this.env.canReorderItems&&!this.env.canDropOnNonFolder&&!this.env.items[this.targetItem.item].isFolder){var e=this.getParentOfLinearItem(this.linearIndex,this.treeId),t=e.parentLinearIndex,n=e.parent;this.targetItem=n,this.linearIndex=t}},e.prototype.maybeReparentUpwards=function(){var e,t;if(void 0!==this.indentation){var n=this.env.linearItems[this.treeId],r=n[this.linearIndex].depth,i=r-(null!==(t=null===(e=n[this.linearIndex+1])||void 0===e?void 0:e.depth)&&void 0!==t?t:0);if("bottom"===this.offset&&i>0){for(var o,a=Math.max(r-i,this.indentation),u={parentLinearIndex:this.linearIndex,parent:this.targetItem},l=r;l>=a;l-=1)o=u,u=this.getParentOfLinearItem(u.parentLinearIndex,this.treeId);if(this.indentation!==n[this.linearIndex].depth&&o){var c=this.env.items[u.parent.item].children.indexOf(o.parent.item)+1;if(!this.draggingItems||!this.isDescendant(this.treeId,u.parentLinearIndex+1,this.draggingItems))return{targetType:"between-items",treeId:this.treeId,parentItem:u.parent.item,depth:a,linearIndex:this.linearIndex+1,childIndex:c,linePosition:"bottom"}}}}},e.prototype.maybeRedirectInsideOpenFolder=function(){var e=this.env.linearItems[this.treeId][this.linearIndex+1];!this.env.canDropBelowOpenFolders&&e&&this.targetItem.depth===e.depth-1&&"bottom"===this.offset&&(this.targetItem=e,this.linearIndex+=1,this.offset="top")},e.prototype.maybeMapToBottomOffset=function(){var e=this.env.linearItems[this.treeId][this.linearIndex-1];if(e&&void 0!==(null==e?void 0:e.depth)){var t=e.depth-this.targetItem.depth;"top"===this.offset&&(0===t||t>0&&void 0!==this.indentation)&&(this.offset="bottom",this.linearIndex-=1,this.targetItem=this.env.linearItems[this.treeId][this.linearIndex])}},e.prototype.canDropAtCurrentTarget=function(){var e,t=this,n=this.env.items[this.targetItem.item];return!(!(this.offset||this.env.canDropOnNonFolder||n.isFolder)||!this.offset&&!this.env.canDropOnFolder&&n.isFolder||this.offset&&!this.env.canReorderItems||(null===(e=this.draggingItems)||void 0===e?void 0:e.some((function(e){return e.index===t.targetItem.item}))))},e.prototype.getDraggingPosition=function(){if(0===this.env.linearItems[this.treeId].length)return this.getEmptyTreeDragPosition();if(!(!this.draggingItems||this.linearIndex<0||this.linearIndex>=this.env.linearItems[this.treeId].length)){this.maybeRedirectToParent(),this.maybeRedirectInsideOpenFolder(),this.maybeMapToBottomOffset();var e=this.maybeReparentUpwards();if(e)return e;if(this.areDraggingItemsDescendantOfTarget())return"invalid";if(!this.canDropAtCurrentTarget())return"invalid";var t=this.getParentOfLinearItem(this.linearIndex,this.treeId).parent,n=this.env.items[t.item].children.indexOf(this.targetItem.item)+("top"===this.offset?0:1);return this.offset?{targetType:"between-items",treeId:this.treeId,parentItem:t.item,depth:this.targetItem.depth,linearIndex:this.linearIndex+("top"===this.offset?0:1),childIndex:n,linePosition:this.offset}:{targetType:"item",treeId:this.treeId,parentItem:t.item,targetItem:this.targetItem.item,depth:this.targetItem.depth,linearIndex:this.linearIndex}}},e.prototype.isDescendant=function(e,t,n){var r=this.getParentOfLinearItem(t,e),i=r.parentLinearIndex,o=r.parent;return!!n.some((function(e){return e.index===o.item}))||0!==o.depth&&this.isDescendant(e,i,n)},e.prototype.areDraggingItemsDescendantOfTarget=function(){return this.draggingItems&&this.isDescendant(this.treeId,this.linearIndex,this.draggingItems)},e}();t.DraggingPositionEvaluation=n},4750:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCanDropAt=void 0;var r=n(1024),i=n(5144);t.useCanDropAt=function(){var e=(0,i.useTreeEnvironment)();return(0,r.useCallback)((function(t,n){if("between-items"===t.targetType){if(!e.canReorderItems)return!1}else if("root"===t.targetType){if(!e.canDropOnFolder)return!1}else{var r=e.items[t.targetItem];if(!r||!e.canDropOnFolder&&r.isFolder||!e.canDropOnNonFolder&&!r.isFolder||n.some((function(e){return e.index===t.targetItem})))return!1}return!!(!e.canDropAt||n&&e.canDropAt(n,t))}),[e])}},4618:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useDraggingPosition=void 0;var r=n(1024),i=n(9933),o=n(5144),a=n(5265),u=n(7095),l=n(3910);t.useDraggingPosition=function(){var e=(0,r.useRef)("initial"),t=(0,r.useState)(void 0),n=t[0],c=t[1],s=(0,r.useRef)(0),d=(0,o.useTreeEnvironment)(),f=(0,l.useGetGetParentOfLinearItem)(),v=(0,a.useStableHandler)((function(t,n,r){if(!r)return!1;var i=r.offset,o=r.linearIndex,a="".concat(n,"__").concat(o,"__").concat(null!=i?i:"","__").concat(r.indentation);return a!==e.current&&(e.current=a,!0)})),m=(0,a.useStableHandler)((function(e,t,n){if(n.current){var r=n.current.getBoundingClientRect();if(!(0,i.isOutsideOfContainer)(e,r)){var o=(e.clientY-r.top)/s.current,a=d.linearItems[t],u=Math.min(Math.max(0,Math.floor(o)),a.length-1);if(0===a.length)return{linearIndex:0,offset:"bottom",indentation:0};var l,c=a[u],f=d.items[c.item],v=d.renderDepthOffset?Math.max(Math.floor((e.clientX-r.left)/d.renderDepthOffset),0):void 0,m=d.canReorderItems?(null==f?void 0:f.isFolder)&&d.canDropOnFolder||d.canDropOnNonFolder?.2:.5:0;return o-.5>=a.length-1?l="bottom":o%1<m?l="top":o%1>1-m&&(l="bottom"),{linearIndex:u,offset:l,indentation:v}}}})),p=(0,a.useStableHandler)((function(e,t,r){var i=m(e,t,r);if(v(e,t,i))return!n||!d.canDragAndDrop||!i||e.clientX<0||e.clientY<0?"invalid":new u.DraggingPositionEvaluation(d,e,t,i,n,f).getDraggingPosition()}));return{initiateDraggingPosition:(0,a.useStableHandler)((function(t,n){c(n),e.current="initial",s.current=(0,i.computeItemHeight)(t)})),resetDraggingPosition:(0,a.useStableHandler)((function(){c(void 0),e.current="initial",s.current=0})),draggingItems:n,getDraggingPosition:p,itemHeight:s}}},3910:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGetGetParentOfLinearItem=void 0;var r=n(1024),i=n(5144);t.useGetGetParentOfLinearItem=function(){var e=(0,i.useTreeEnvironment)();return(0,r.useCallback)((function(t,n){for(var r=e.linearItems[n],i=r[t].depth,o=t;r[o]&&r[o].depth!==i-1;o-=1);var a=r[o];return a||(a={item:e.trees[n].rootItem,depth:0},o=0),{parent:a,parentLinearIndex:o}}),[e.linearItems,e.trees])}},1959:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGetViableDragPositions=void 0;var r=n(1024),i=n(3910),o=n(5144),a=n(4750);t.useGetViableDragPositions=function(){var e=(0,o.useTreeEnvironment)(),t=(0,i.useGetGetParentOfLinearItem)(),n=(0,a.useCanDropAt)(),u=(0,r.useCallback)((function(e,n,r){var i=t(n,e),o=i.parent,a=i.parentLinearIndex;return!!r.some((function(e){return e.index===o.item}))||0!==o.depth&&u(e,a,r)}),[t]);return(0,r.useCallback)((function(r,i){for(var o,a,l,c,s=e.linearItems[r],d=[],f=-1,v=0;v<s.length;v++){var m=s[v],p=m.item,g=m.depth;if(!(-1!==f&&g>f)){f=-1;var h=t(v,r).parent,I=e.items[h.item].children.indexOf(p);if(u(r,v,i))f=g+1;else{var b={targetType:"item",parentItem:h.item,targetItem:p,linearIndex:v,depth:g,treeId:r},y={targetType:"between-items",parentItem:h.item,linePosition:"top",childIndex:I,depth:g,treeId:r,linearIndex:v},_={targetType:"between-items",parentItem:h.item,linePosition:"bottom",linearIndex:v+1,childIndex:I+1,depth:g,treeId:r},D=null!==(a=null===(o=s[v-1])||void 0===o?void 0:o.depth)&&void 0!==a?a:-1,P=g===(null!==(c=null===(l=s[v+1])||void 0===l?void 0:l.depth)&&void 0!==c?c:-1)-1;!(g===D)&&n(y,i)&&d.push(y),n(b,i)&&d.push(b),!P&&n(_,i)&&d.push(_)}}}return d}),[n,e.items,e.linearItems,t,u])}},6886:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}},l=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentActionsProvider=t.useEnvironmentActions=void 0;var c=o(n(1024)),s=n(1024),d=n(2227),f=n(5144),v=n(7410),m=n(8836),p=n(7134),g=c.createContext(null);t.useEnvironmentActions=function(){return c.useContext(g)};var h=function(e,t,n){return a(void 0,void 0,void 0,(function(){var r,i,o,a,l,c,s;return u(this,(function(u){for(r=function(e){(0,p.waitFor)((function(){var n;return!!(null===(n=t.current)||void 0===n?void 0:n[e])})).then((function(){var r,i=null===(r=t.current)||void 0===r?void 0:r[e];(null==i?void 0:i.isFolder)&&(n(i),h(e,t,n))}))},i=0,o=null!==(s=null===(c=null===(l=t.current)||void 0===l?void 0:l[e])||void 0===c?void 0:c.children)&&void 0!==s?s:[];i<o.length;i++)a=o[i],r(a);return[2]}))}))};t.EnvironmentActionsProvider=c.forwardRef((function(e,t){var n=(0,f.useTreeEnvironment)(),r=n.onCollapseItem,i=n.items,o=n.trees,I=n.viewState,b=n.onExpandItem,y=n.onFocusItem,_=n.setActiveTree,D=n.onRenameItem,P=n.onSelectItems,x=n.onPrimaryAction,O=n.linearItems,w=(0,d.useDragAndDrop)(),T=w.abortProgrammaticDrag,E=w.completeProgrammaticDrag,C=w.programmaticDragDown,M=w.programmaticDragUp,S=w.startProgrammaticDrag,j=(0,m.useRefCopy)(i),k=(0,s.useCallback)((function(e,t){null==r||r(i[e],t)}),[i,r]),R=(0,s.useCallback)((function(e,t){null==b||b(i[e],t)}),[i,b]),A=(0,s.useCallback)((function(e,t,n){void 0===n&&(n=!0),null==y||y(i[e],t,n)}),[i,y]),L=(0,s.useCallback)((function(e,t){void 0===t&&(t=!0),_(e,t)}),[_]),F=(0,s.useCallback)((function(e){var t=O[e],n=t.findIndex((function(t){var n;return t.item===(null===(n=I[e])||void 0===n?void 0:n.focusedItem)})),r=void 0!==n?Math.min(t.length-1,n+1):0,o=i[t[r].item];null==y||y(o,e)}),[i,O,y,I]),B=(0,s.useCallback)((function(e){var t=O[e],n=t.findIndex((function(t){var n;return t.item===(null===(n=I[e])||void 0===n?void 0:n.focusedItem)})),r=void 0!==n?Math.max(0,n-1):0,o=i[t[r].item];null==y||y(o,e)}),[i,O,y,I]),H=(0,s.useCallback)((function(e,t,n){null==D||D(i[e],t,n)}),[i,D]),N=(0,s.useCallback)((function(e,t){null==P||P(e,t)}),[P]),K=(0,s.useCallback)((function(e,t){var n,o;(null===(o=null===(n=I[t])||void 0===n?void 0:n.expandedItems)||void 0===o?void 0:o.includes(e))?null==r||r(i[e],t):null==b||b(i[e],t)}),[i,r,b,I]),U=(0,s.useCallback)((function(e,t){var n,r,i,o,a;(null===(r=null===(n=I[t])||void 0===n?void 0:n.selectedItems)||void 0===r?void 0:r.includes(e))?null==P||P(null!==(o=null===(i=I[t].selectedItems)||void 0===i?void 0:i.filter((function(t){return t!==e})))&&void 0!==o?o:[],t):null==P||P(l(l([],null!==(a=I[t].selectedItems)&&void 0!==a?a:[],!0),[e],!1),t)}),[P,I]),G=(0,s.useCallback)((function(e,t){null==x||x(i[e],t)}),[i,x]),V=(0,s.useCallback)((function(e,t){return a(void 0,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:return n=t[0],r=t.slice(1),[4,(0,p.waitFor)((function(){var e;return!!(null===(e=j.current)||void 0===e?void 0:e[n])})).then((function(){var t=j.current[n];return t?(null==b||b(t,e),r.length>0?V(e,r):Promise.resolve()):Promise.resolve()}))];case 1:return i.sent(),[2]}}))}))}),[j,b]),q=(0,s.useCallback)((function(e){return a(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,h(o[e].rootItem,j,(function(t){return null==b?void 0:b(t,e)}))];case 1:return t.sent(),[2]}}))}))}),[j,b,o]),W=(0,s.useCallback)((function(e){for(var t,n,o=0,a=null!==(n=null===(t=I[e])||void 0===t?void 0:t.expandedItems)&&void 0!==n?n:[];o<a.length;o++){var u=a[o];null==r||r(i[u],e)}}),[i,r,I]),X=(0,s.useMemo)((function(){return{collapseItem:k,expandItem:R,focusItem:A,focusTree:L,moveFocusDown:F,moveFocusUp:B,renameItem:H,selectItems:N,toggleItemExpandedState:K,toggleItemSelectStatus:U,invokePrimaryAction:G,expandAll:q,expandSubsequently:V,collapseAll:W,abortProgrammaticDrag:T,completeProgrammaticDrag:E,moveProgrammaticDragPositionDown:C,moveProgrammaticDragPositionUp:M,startProgrammaticDrag:S}}),[k,R,A,L,F,B,H,N,K,U,G,q,V,W,T,E,C,M,S]);return(0,v.useCreatedEnvironmentRef)(t,X),c.createElement(g.Provider,{value:X},e.children)}))},7410:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreatedEnvironmentRef=void 0;var i=n(1024),o=n(5144),a=n(2227);t.useCreatedEnvironmentRef=function(e,t){var n=(0,o.useTreeEnvironment)(),u=(0,a.useDragAndDrop)();(0,i.useImperativeHandle)(e,(function(){return r(r(r({},t),n),{treeEnvironmentContext:n,dragAndDropContext:u})}))}},1382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultKeyboardBindings=void 0,t.defaultKeyboardBindings={expandSiblings:["control+*"],moveFocusToFirstItem:["home"],moveFocusToLastItem:["end"],primaryAction:["enter"],renameItem:["f2"],abortRenameItem:["escape"],toggleSelectItem:["control+ "],abortSearch:["escape","enter"],startSearch:[],selectAll:["control+a"],startProgrammaticDnd:["control+shift+d"],completeProgrammaticDnd:["enter"],abortProgrammaticDnd:["escape"]}},119:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHotkey=void 0;var r=n(1024),i=n(408),o=n(1145),a=n(5260),u=n(8593),l=["input","textarea"];t.useHotkey=function(e,t,n,c){void 0===c&&(c=!1);var s=(0,r.useRef)([]),d=(0,o.useKeyboardBindings)(),f=(0,a.useCallSoon)(),v=(0,r.useMemo)((function(){return d[e].map((function(e){return e.split("+")}))}),[e,d]);(0,i.useHtmlElementEventListener)((0,u.getDocument)(),"keydown",(function(e){var t;if(!1!==n&&(!l.includes(null===(t=e.target.tagName)||void 0===t?void 0:t.toLowerCase())&&!e.target.isContentEditable||c)&&!s.current.includes(e.key)){s.current.push(e.key);var r=s.current.map((function(e){return e.toLowerCase()}));v.map((function(e){return r.map((function(t){return e.includes(t.toLowerCase())})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e||t}),!1)&&(s.current.length>1||!/^[a-zA-Z\s]$/.test(e.key))&&e.preventDefault()}})),(0,i.useHtmlElementEventListener)((0,u.getDocument)(),"keyup",(function(e){if(!1!==n){var r=s.current.map((function(e){return e.toLowerCase()}));v.map((function(e){return e.map((function(e){return r.includes(e.toLowerCase())})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e||t}),!1)&&f((function(){return t(e)})),s.current=s.current.filter((function(t){return t!==e.key}))}}))}},9629:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useKey=void 0;var r=n(408),i=n(8593);t.useKey=function(e,t,n){(0,r.useHtmlElementEventListener)((0,i.getDocument)(),"keydown",(function(r){n&&n&&e.toLowerCase()===r.key.toLowerCase()&&t(r)}))}},1145:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useKeyboardBindings=void 0;var i=n(1024),o=n(5144),a=n(1382);t.useKeyboardBindings=function(){var e=(0,o.useTreeEnvironment)();return(0,i.useMemo)((function(){return e.keyboardBindings?r(r({},a.defaultKeyboardBindings),e.keyboardBindings):a.defaultKeyboardBindings}),[e.keyboardBindings])}},3607:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.INTERNALS=void 0;var o=n(3307),a=n(3735);i(n(5144),t),i(n(5447),t),i(n(2674),t),i(n(5575),t),i(n(9699),t),i(n(5244),t),i(n(7165),t),i(n(5497),t),t.INTERNALS={TreeItemElement:o.TreeItemElement,TreeItemChildren:a.TreeItemChildren}},8435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickArrowToExpandInteractionManager=void 0;var r=n(9699),i=n(6521),o=function(){function e(e){this.mode=r.InteractionMode.ClickItemToExpand,this.environment=e}return e.prototype.createInteractiveElementProps=function(e,t,n,r){var o=this;return{onClick:function(t){var a=0===t.detail;n.focusItem(),t.shiftKey&&!a?n.selectUpTo(!(0,i.isControlKey)(t)):(0,i.isControlKey)(t)&&!a?r.isSelected?n.unselectItem():n.addToSelectedItems():(n.selectItem(),e.isFolder&&!o.environment.canInvokePrimaryActionOnItemContainer||n.primaryAction())},onFocus:function(){n.focusItem()},onDragStart:function(e){e.dataTransfer.dropEffect="move",n.startDragging()},onDragOver:function(e){e.preventDefault()},draggable:r.canDrag&&!r.isRenaming,tabIndex:r.isRenaming?void 0:r.isFocused?0:-1}},e}();t.ClickArrowToExpandInteractionManager=o},7274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClickItemToExpandInteractionManager=void 0;var r=n(9699),i=n(6521),o=function(){function e(e){this.mode=r.InteractionMode.ClickItemToExpand,this.environment=e}return e.prototype.createInteractiveElementProps=function(e,t,n,r){var o=this;return{onClick:function(t){var a=0===t.detail;n.focusItem(),t.shiftKey&&!a?n.selectUpTo(!(0,i.isControlKey)(t)):(0,i.isControlKey)(t)&&!a?r.isSelected?n.unselectItem():n.addToSelectedItems():(e.isFolder&&n.toggleExpandedState(),n.selectItem(),e.isFolder&&!o.environment.canInvokePrimaryActionOnItemContainer||n.primaryAction())},onFocus:function(){n.focusItem()},onDragStart:function(e){e.dataTransfer.dropEffect="move",n.startDragging()},onDragOver:function(e){e.preventDefault()},draggable:r.canDrag&&!r.isRenaming,tabIndex:r.isRenaming?void 0:r.isFocused?0:-1}},e}();t.ClickItemToExpandInteractionManager=o},428:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DoubleClickItemToExpandInteractionManager=void 0;var r=n(9699),i=n(6521),o=function(){function e(e){this.mode=r.InteractionMode.DoubleClickItemToExpand,this.environment=e}return e.prototype.createInteractiveElementProps=function(e,t,n,r){var o=this;return{onClick:function(e){var t=0===e.detail;n.focusItem(),e.shiftKey&&!t?n.selectUpTo(!(0,i.isControlKey)(e)):(0,i.isControlKey)(e)&&!t?r.isSelected?n.unselectItem():n.addToSelectedItems():n.selectItem()},onDoubleClick:function(){n.focusItem(),n.selectItem(),e.isFolder&&n.toggleExpandedState(),e.isFolder&&!o.environment.canInvokePrimaryActionOnItemContainer||n.primaryAction()},onFocus:function(){n.focusItem()},onDragStart:function(e){e.dataTransfer.dropEffect="move",n.startDragging()},onDragOver:function(e){e.preventDefault()},draggable:r.canDrag&&!r.isRenaming,tabIndex:r.isRenaming?void 0:r.isFocused?0:-1}},e}();t.DoubleClickItemToExpandInteractionManager=o},6521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isControlKey=void 0,t.isControlKey=function(e){return e.ctrlKey||navigator.platform.toUpperCase().indexOf("MAC")>=0&&e.metaKey}},1936:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultRenderers=void 0;var o=i(n(1024)),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!!e})).join(" ")};t.createDefaultRenderers=function(e,t){return{renderItemTitle:function(e){var t=e.title,n=e.context,r=e.info;if(!r.isSearching||!n.isSearchMatching)return t;var i=t.toLowerCase().indexOf(r.search.toLowerCase());return o.default.createElement(o.default.Fragment,null,i>0&&o.default.createElement("span",null,t.slice(0,i)),o.default.createElement("span",{className:"rct-tree-item-search-highlight"},t.slice(i,i+r.search.length)),i+r.search.length<t.length&&o.default.createElement("span",null,t.slice(i+r.search.length,t.length)))},renderItemArrow:function(e){var t=e.item,n=e.context;return o.default.createElement("div",r({className:a(t.isFolder&&"rct-tree-item-arrow-isFolder",n.isExpanded&&"rct-tree-item-arrow-expanded","rct-tree-item-arrow")},n.arrowProps),t.isFolder&&(n.isExpanded?o.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve"},o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z",className:"rct-tree-item-arrow-path"})))):o.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve"},o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z",className:"rct-tree-item-arrow-path"}))))))},renderItem:function(t){var n=t.item,i=t.depth,u=t.children,l=t.title,c=t.context,s=t.arrow,d=c.isRenaming?"div":"button",f=c.isRenaming?void 0:"button";return o.default.createElement("li",r({},c.itemContainerWithChildrenProps,{className:a("rct-tree-item-li",n.isFolder&&"rct-tree-item-li-isFolder",c.isSelected&&"rct-tree-item-li-selected",c.isExpanded&&"rct-tree-item-li-expanded",c.isFocused&&"rct-tree-item-li-focused",c.isDraggingOver&&"rct-tree-item-li-dragging-over",c.isSearchMatching&&"rct-tree-item-li-search-match")}),o.default.createElement("div",r({},c.itemContainerWithoutChildrenProps,{style:{"--depthOffset":"".concat((i+1)*e,"px")},className:a("rct-tree-item-title-container",n.isFolder&&"rct-tree-item-title-container-isFolder",c.isSelected&&"rct-tree-item-title-container-selected",c.isExpanded&&"rct-tree-item-title-container-expanded",c.isFocused&&"rct-tree-item-title-container-focused",c.isDraggingOver&&"rct-tree-item-title-container-dragging-over",c.isSearchMatching&&"rct-tree-item-title-container-search-match")}),s,o.default.createElement(d,r({type:f},c.interactiveElementProps,{className:a("rct-tree-item-button",n.isFolder&&"rct-tree-item-button-isFolder",c.isSelected&&"rct-tree-item-button-selected",c.isExpanded&&"rct-tree-item-button-expanded",c.isFocused&&"rct-tree-item-button-focused",c.isDraggingOver&&"rct-tree-item-button-dragging-over",c.isSearchMatching&&"rct-tree-item-button-search-match")}),l)),u)},renderRenameInput:function(e){var t=e.inputProps,n=e.inputRef,i=e.submitButtonProps,a=e.submitButtonRef,u=e.formProps;return o.default.createElement("form",r({},u,{className:"rct-tree-item-renaming-form"}),o.default.createElement("input",r({},t,{ref:n,className:"rct-tree-item-renaming-input"})),o.default.createElement("input",r({},i,{ref:a,type:"submit",className:"rct-tree-item-renaming-submit-button",value:"ðŸ—¸"})))},renderTreeContainer:function(e){var n=e.children,i=e.containerProps,u=e.info;return o.default.createElement("div",{className:a("rct-tree-root",u.isFocused&&"rct-tree-root-focus",u.isRenaming&&"rct-tree-root-renaming",u.areItemsSelected&&"rct-tree-root-itemsselected",t&&"rct-rtl")},o.default.createElement("div",r({},i,{style:r({minHeight:"30px"},i.style)}),n))},renderItemsContainer:function(e){var t=e.children,n=e.containerProps;return o.default.createElement("ul",r({},n,{className:"rct-tree-items-container"}),t)},renderDragBetweenLine:function(t){var n=t.draggingPosition,i=t.lineProps;return o.default.createElement("div",r({},i,{style:{left:"".concat(n.depth*e,"px")},className:a("rct-tree-drag-between-line","between-items"===n.targetType&&"top"===n.linePosition&&"rct-tree-drag-between-line-top","between-items"===n.targetType&&"bottom"===n.linePosition&&"rct-tree-drag-between-line-bottom")}))},renderSearchInput:function(e){var t=e.inputProps;return o.default.createElement("div",{className:a("rct-tree-search-input-container")},o.default.createElement("span",{className:"rct-tree-input-icon"}),o.default.createElement("input",r({},t,{className:a("rct-tree-search-input")})))},renderLiveDescriptorContainer:function(e){var t=e.tree,n=e.children;return o.default.createElement("div",{id:"rct-livedescription-".concat(t.treeId),style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"}},n)},renderDepthOffset:e}}},5244:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1936),t)},8717:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRenderers=void 0;var r=n(1024),i=n(1936);t.useRenderers=function(e){var t=e.renderItem,n=e.renderItemTitle,o=e.renderItemArrow,a=e.renderRenameInput,u=e.renderItemsContainer,l=e.renderTreeContainer,c=e.renderDragBetweenLine,s=e.renderSearchInput,d=e.renderLiveDescriptorContainer,f=e.renderDepthOffset,v=(0,r.useMemo)((function(){return(0,i.createDefaultRenderers)(null!=f?f:10)}),[f]),m={renderItem:t,renderItemTitle:n,renderItemArrow:o,renderRenameInput:a,renderItemsContainer:u,renderTreeContainer:l,renderDragBetweenLine:c,renderSearchInput:s,renderLiveDescriptorContainer:d,renderDepthOffset:f},p=Object.entries(v).reduce((function(e,t){var n=t[0],r=t[1],i=n;return e[i]=m[i]?m[i]:r,e}),{});return p.renderItem.displayName="RenderItem",p.renderItemTitle.displayName="RenderItemTitle",p.renderItemArrow.displayName="RenderItemArrow",p.renderRenameInput.displayName="RenderRenameInput",p.renderItemsContainer.displayName="RenderItemsContainer",p.renderTreeContainer.displayName="RenderTreeContainer",p.renderDragBetweenLine.displayName="RenderDragBetweenLine",p.renderSearchInput.displayName="RenderSearchInput",p}},2715:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInput=void 0;var i=n(408),o=n(119),a=n(5447),u=n(5144),l=n(2803),c=n(6165),s=n(5260),d=n(8593);t.SearchInput=function(e){var t,n=e.containerRef,f=(0,a.useTree)(),v=f.search,m=f.setSearch,p=f.treeId,g=f.renderers,h=f.renamingItem,I=(0,u.useTreeEnvironment)();(0,c.useViewState)();var b=I.activeTreeId===p,y=(0,s.useCallSoon)();(0,l.useSearchMatchFocus)();var _=function(){var e,t,n;if(m(null),null===(e=I.autoFocus)||void 0===e||e){var r=null===(t=(0,d.getDocument)())||void 0===t?void 0:t.querySelector('[data-rct-tree="'.concat(p,'"] [data-rct-item-focus="true"]'));null===(n=null==r?void 0:r.focus)||void 0===n||n.call(r)}};return(0,o.useHotkey)("abortSearch",(function(){y((function(){_()}))}),b&&null!==v,!0),(0,i.useHtmlElementEventListener)(n,"keydown",(function(e){var t,n,r=e.key.charCodeAt(0);null!==(t=I.canSearch)&&void 0!==t&&!t||null!==(n=I.canSearchByStartingTyping)&&void 0!==n&&!n||!b||null!==v||h||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||!(r>=48&&r<=57||r>=97&&r<=122)||m("")})),null!==(t=I.canSearch)&&void 0!==t&&!t||null===v?null:g.renderSearchInput({inputProps:r({value:v,onChange:function(e){return m(e.target.value)},onBlur:function(){_()},ref:function(e){var t;null===(t=null==e?void 0:e.focus)||void 0===t||t.call(e)},"aria-label":"Search for items"},{"data-rct-search-input":"true"})})}},8091:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultMatcher=void 0,t.defaultMatcher=function(e,t,n){return n.toLowerCase().includes(e.toLowerCase())}},2803:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSearchMatchFocus=void 0;var r=n(5447),i=n(5144),o=n(8091),a=n(6160),u=n(7674),l=n(5260);t.useSearchMatchFocus=function(){var e=(0,i.useTreeEnvironment)(),t=e.doesSearchMatchItem,n=e.items,c=e.getItemTitle,s=e.onFocusItem,d=(0,r.useTree)(),f=d.search,v=d.treeId,m=(0,u.useLinearItems)(v),p=(0,l.useCallSoon)();(0,a.useSideEffect)((function(){f&&f.length>0&&p((function(){var e=m.find((function(e){var r=e.item;return(null!=t?t:o.defaultMatcher)(f,n[r],c(n[r]))}));e&&(null==s||s(n[e.item],v))}))}),[t,c,m,n,s,f,v,p],[f])}},8806:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DragBetweenLine=void 0;var a=o(n(1024)),u=n(5447),l=n(2227);t.DragBetweenLine=function(e){var t,n=e.treeId,r=(0,l.useDragAndDrop)(),i=r.draggingPosition,o=r.itemHeight,c=(0,u.useTree)().renderers;return i&&"between-items"===i.targetType&&i.treeId===n?a.createElement("div",{style:{position:"absolute",left:"0",right:"0",top:"".concat((null!==(t=null==i?void 0:i.linearIndex)&&void 0!==t?t:0)*o,"px")}},c.renderDragBetweenLine({draggingPosition:i,lineProps:{onDragOver:function(e){return e.preventDefault()}}})):null}},738:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LiveDescription=void 0;var a=o(n(1024)),u=n(1024),l=n(5144),c=n(1303),s=n(5447),d=n(2227),f=n(8186),v=n(1145),m=function(e){var t=e.children,n=e.live;return a.createElement("div",{"aria-live":n,dangerouslySetInnerHTML:{__html:t}})};t.LiveDescription=function(){var e=(0,l.useTreeEnvironment)(),t=(0,s.useTree)(),n=(0,d.useDragAndDrop)(),r=(0,v.useKeyboardBindings)(),i=(0,u.useMemo)((function(){var t;return null!==(t=e.liveDescriptors)&&void 0!==t?t:c.defaultLiveDescriptors}),[e.liveDescriptors]),o=t.renderers.renderLiveDescriptorContainer;return t.treeInformation.isRenaming?a.createElement(o,{tree:t},a.createElement(m,{live:"polite"},(0,f.resolveLiveDescriptor)(i.renamingItem,e,n,t,r))):t.treeInformation.isSearching?a.createElement(o,{tree:t},a.createElement(m,{live:"polite"},(0,f.resolveLiveDescriptor)(i.searching,e,n,t,r))):t.treeInformation.isProgrammaticallyDragging?a.createElement(o,{tree:t},a.createElement(m,{live:"polite"},(0,f.resolveLiveDescriptor)(i.programmaticallyDragging,e,n,t,r)),a.createElement(m,{live:"assertive"},(0,f.resolveLiveDescriptor)(i.programmaticallyDraggingTarget,e,n,t,r))):a.createElement(o,{tree:t},a.createElement(m,{live:"off"},(0,f.resolveLiveDescriptor)(i.introduction,e,n,t,r)))}},5007:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MaybeLiveDescription=void 0;var a=o(n(1024)),u=n(5144),l=n(738);t.MaybeLiveDescription=function(){var e;return null===(e=(0,u.useTreeEnvironment)().showLiveDescription)||void 0===e||e?a.createElement(l.LiveDescription,null):null}},5447:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=t.useTree=void 0;var u=a(n(1024)),l=n(1024),c=n(5144),s=n(1773),d=n(7352),f=n(951),v=n(4207),m=u.createContext(null);t.useTree=function(){return(0,l.useContext)(m)},t.Tree=u.forwardRef((function(e,t){var n,i=(0,c.useTreeEnvironment)(),o=(0,l.useMemo)((function(){return r(r({},i),e)}),[e,i]),a=(0,l.useState)(null),p=a[0],g=a[1],h=(0,l.useState)(null),I=h[0],b=h[1],y=i.items[e.rootItem],_=i.viewState[e.treeId];(0,l.useEffect)((function(){return i.registerTree({treeId:e.treeId,rootItem:e.rootItem}),function(){return i.unregisterTree(e.treeId)}}),[e.treeId,e.rootItem]);var D=(0,d.useCreatedTreeInformation)(e,I,p),P=(0,l.useMemo)((function(){return{treeId:e.treeId,rootItem:e.rootItem,treeLabel:e.treeLabel,treeLabelledBy:e.treeLabelledBy,getItemsLinearly:function(){return(0,f.getItemsLinearly)(e.rootItem,null!=_?_:{},i.items)},treeInformation:D,search:p,setSearch:g,renamingItem:I,setRenamingItem:b,renderers:o}}),[i.items,e.rootItem,e.treeId,e.treeLabel,e.treeLabelledBy,I,o,p,D,_]);return void 0===y?(null===(n=i.onMissingItems)||void 0===n||n.call(i,[e.rootItem]),null):u.createElement(m.Provider,{value:P},u.createElement(v.TreeActionsProvider,{ref:t},u.createElement(s.TreeManager,null)))}))},1773:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeManager=void 0;var u=a(n(1024)),l=n(1024),c=n(3735),s=n(8806),d=n(3987),f=n(2289),v=n(2715),m=n(5447),p=n(5144),g=n(2227),h=n(5007);t.TreeManager=function(){var e=(0,m.useTree)(),t=e.treeId,n=e.rootItem,i=e.renderers,o=e.treeInformation,a=(0,p.useTreeEnvironment)(),I=(0,l.useRef)(),b=(0,g.useDragAndDrop)();(0,f.useTreeKeyboardBindings)(),(0,d.useFocusWithin)(I.current,(function(){a.setActiveTree(t)}),(function(){a.setActiveTree((function(e){return e===t?void 0:e}))}));var y=a.items[n].children,_=u.createElement(u.Fragment,null,u.createElement(h.MaybeLiveDescription,null),u.createElement(c.TreeItemChildren,{depth:0,parentId:n},null!=y?y:[]),u.createElement(s.DragBetweenLine,{treeId:t}),u.createElement(v.SearchInput,{containerRef:I.current})),D=r({onDragOver:function(e){e.preventDefault(),b.onDragOverTreeHandler(e,t,I)},onDragLeave:function(e){b.onDragLeaveContainerHandler(e,I)},onMouseDown:function(){return b.abortProgrammaticDrag()},ref:I,style:{position:"relative"},role:"tree","aria-label":o.treeLabelledBy?void 0:o.treeLabel,"aria-labelledby":o.treeLabelledBy},{"data-rct-tree":t});return i.renderTreeContainer({children:_,info:o,containerProps:D})}},1303:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLiveDescriptors=void 0,t.defaultLiveDescriptors={introduction:"\n    <p>Accessibility guide for tree {treeLabel}.</p>\n    <p>\n      Navigate the tree with the arrow keys. Common tree hotkeys apply. Further keybindings are available:\n    </p>\n    <ul>\n      <li>{keybinding:primaryAction} to execute primary action on focused item</li>\n      <li>{keybinding:renameItem} to start renaming the focused item</li>\n      <li>{keybinding:abortRenameItem} to abort renaming an item</li>\n      <li>{keybinding:startProgrammaticDnd} to start dragging selected items</li>\n    </ul>\n  ",renamingItem:"\n    <p>Renaming the item {renamingItem}.</p>\n    <p>Use the keybinding {keybinding:abortRenameItem} to abort renaming.</p>\n  ",searching:"\n    <p>Searching</p>\n  ",programmaticallyDragging:"\n    <p>Dragging items {dragItems}.</p>\n    <p>Press the arrow keys to move the drag target.</p>\n    <p>Press {keybinding:completeProgrammaticDnd} to drop or {keybinding:abortProgrammaticDnd} to abort.</p>\n  ",programmaticallyDraggingTarget:"\n    <p>Drop target is {dropTarget}.</p>\n  "}},951:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getItemsLinearly=void 0,t.getItemsLinearly=function(e,n,r,i){var o,a,u;void 0===i&&(i=0);for(var l=[],c=0,s=null!==(a=null===(o=r[e])||void 0===o?void 0:o.children)&&void 0!==a?a:[];c<s.length;c++){var d=s[c],f=r[d];l.push({item:d,depth:i}),f&&f.isFolder&&f.children&&(null===(u=n.expandedItems)||void 0===u?void 0:u.includes(d))&&l.push.apply(l,(0,t.getItemsLinearly)(d,n,r,i+1))}return l}},8186:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveLiveDescriptor=void 0,t.resolveLiveDescriptor=function(e,t,n,r,i){var o=function(e){return t.getItemTitle(t.items[e])};return e.replace(/({[^\s}]+)}/g,(function(e){var a,u,l,c=e.slice(1,-1);switch(c){case"treeLabel":return null!==(a=r.treeLabel)&&void 0!==a?a:"";case"renamingItem":return r.renamingItem?o(r.renamingItem):"None";case"dragItems":return null!==(l=null===(u=n.draggingItems)||void 0===u?void 0:u.map((function(e){return t.getItemTitle(e)})).join(", "))&&void 0!==l?l:"None";case"dropTarget":if(!n.draggingPosition)return"None";if("item"===n.draggingPosition.targetType||"root"===n.draggingPosition.targetType)return"within ".concat(o(n.draggingPosition.targetItem));var s=t.items[n.draggingPosition.parentItem],d=t.getItemTitle(s);return 0===n.draggingPosition.childIndex?"within ".concat(d," at the start"):"within ".concat(d," after ").concat(o(s.children[n.draggingPosition.childIndex-1]));default:if(c.startsWith("keybinding:"))return i[c.slice(11)][0];throw Error("Unknown live descriptor variable {".concat(c,"}"))}}))}},3669:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoView=void 0;var r=n(8593);t.scrollIntoView=function(e){var t,n,i,o;if(e)if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded();else{var a=e.getBoundingClientRect();a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||!!(null===(n=null===(t=(0,r.getDocument)())||void 0===t?void 0:t.documentElement)||void 0===n?void 0:n.clientHeight))&&a.right<=(window.innerWidth||!!(null===(o=null===(i=(0,r.getDocument)())||void 0===i?void 0:i.documentElement)||void 0===o?void 0:o.clientWidth))||e.scrollIntoView()}}},7352:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCreatedTreeInformation=void 0;var r=n(1024),i=n(5144),o=n(2227);t.useCreatedTreeInformation=function(e,t,n){var a,u=(0,i.useTreeEnvironment)(),l=(0,o.useDragAndDrop)(),c=null===(a=u.viewState[e.treeId])||void 0===a?void 0:a.selectedItems;return(0,r.useMemo)((function(){var r,i;return{isFocused:u.activeTreeId===e.treeId,isRenaming:!!t,areItemsSelected:(null!==(r=null==c?void 0:c.length)&&void 0!==r?r:0)>0,isSearching:null!==n,search:n,isProgrammaticallyDragging:null!==(i=l.isProgrammaticallyDragging)&&void 0!==i&&i,treeId:e.treeId,rootItem:e.rootItem,treeLabel:e.treeLabel,treeLabelledBy:e.treeLabelledBy}}),[u.activeTreeId,e.treeId,e.rootItem,e.treeLabel,e.treeLabelledBy,t,null==c?void 0:c.length,n,l.isProgrammaticallyDragging])}},3987:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusWithin=void 0;var r=n(1024),i=n(408),o=n(5260);t.useFocusWithin=function(e,t,n){var a=(0,r.useState)(!1),u=a[0],l=a[1],c=(0,r.useRef)(!1),s=(0,o.useCallSoon)();return(0,i.useHtmlElementEventListener)(e,"focusin",(function(){u||(l(!0),null==t||t()),c.current&&(c.current=!1)})),(0,i.useHtmlElementEventListener)(e,"focusout",(function(){c.current=!0,s((function(){c.current&&!(null==e?void 0:e.contains(document.activeElement))&&(null==n||n(),c.current=!1,l(!1))}))})),u}},8741:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMoveFocusToIndex=void 0;var r=n(6165),i=n(5447),o=n(5144),a=n(7674),u=n(5265);t.useMoveFocusToIndex=function(){var e=(0,i.useTree)().treeId,t=(0,o.useTreeEnvironment)(),n=t.onFocusItem,l=t.items,c=(0,a.useLinearItems)(e),s=(0,r.useViewState)();return(0,u.useStableHandler)((function(t){var r,i=t(null!==(r=c.findIndex((function(e){return e.item===s.focusedItem})))&&void 0!==r?r:0,c),o=Math.max(0,Math.min(c.length-1,i)),a=l[c[o].item];return null==n||n(a,e),a}))}},578:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useSelectUpTo=void 0;var i=n(1024),o=n(6165),a=n(5447),u=n(5144),l=n(7674);t.useSelectUpTo=function(e){var t,n,c=(0,o.useViewState)(),s=(0,a.useTree)().treeId,d=(0,l.useLinearItems)(s),f=(0,u.useTreeEnvironment)().onSelectItems,v=(t=c.focusedItem,(n=(0,i.useRef)({target:t,previous:void 0})).current.target!==t&&(n.current.previous=n.current.target,n.current.target=t),n.current.previous);return(0,i.useCallback)((function(t,n){var i,o;void 0===n&&(n=!1);var a=t.index,u=function(e,t){var i=r(r([],n?[]:e,!0),t.filter((function(t){return n||!e.includes(t)})),!0);null==f||f(i,s)};if(c&&c.selectedItems&&c.selectedItems.length>0){var l=c.focusedItem===a?v:c.focusedItem,m="last-focus"===e?d.findIndex((function(e){return l===e.item})):d.findIndex((function(e){var t;return null===(t=c.selectedItems)||void 0===t?void 0:t.includes(e.item)})),p=d.findIndex((function(e){return e.item===a}));if(m<p){var g=d.slice(m,p+1).map((function(e){return e.item}));u(null!==(i=c.selectedItems)&&void 0!==i?i:[],g)}else g=d.slice(p,m+1).map((function(e){return e.item})),u(null!==(o=c.selectedItems)&&void 0!==o?o:[],g)}else null==f||f([a],s)}),[c,f,s,e,d,v])}},2289:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useTreeKeyboardBindings=void 0;var i=n(9629),o=n(119),a=n(8741),u=n(6165),l=n(5447),c=n(5144),s=n(2227),d=n(578),f=n(7674);t.useTreeKeyboardBindings=function(){var e,t=(0,c.useTreeEnvironment)(),n=(0,l.useTree)(),v=n.treeId,m=n.setRenamingItem,p=n.setSearch,g=n.renamingItem,h=(0,f.useLinearItems)(v),I=(0,s.useDragAndDrop)(),b=(0,u.useViewState)(),y=(0,a.useMoveFocusToIndex)(),_=(0,d.useSelectUpTo)("first-selected"),D=t.activeTreeId===v,P=!!g,x=!t.disableArrowKeys&&D&&!P;(0,i.useKey)("arrowdown",(function(e){if(e.preventDefault(),I.isProgrammaticallyDragging)I.programmaticDragDown();else{var t=y((function(e){return e+1}));e.shiftKey&&_(t)}}),x),(0,i.useKey)("arrowup",(function(e){if(e.preventDefault(),I.isProgrammaticallyDragging)I.programmaticDragUp();else{var t=y((function(e){return e-1}));e.shiftKey&&_(t)}}),x),(0,o.useHotkey)("moveFocusToFirstItem",(function(e){e.preventDefault(),y((function(){return 0}))}),D&&!I.isProgrammaticallyDragging&&!P),(0,o.useHotkey)("moveFocusToLastItem",(function(e){e.preventDefault(),y((function(e,t){return t.length-1}))}),D&&!I.isProgrammaticallyDragging&&!P),(0,i.useKey)("arrowright",(function(e){e.preventDefault(),y((function(e,n){var r,i,o=t.items[n[e].item];if(o.isFolder){if(null===(r=b.expandedItems)||void 0===r?void 0:r.includes(o.index))return e+1;null===(i=t.onExpandItem)||void 0===i||i.call(t,o,v)}return e}))}),x&&!I.isProgrammaticallyDragging),(0,i.useKey)("arrowleft",(function(e){e.preventDefault(),y((function(e,n){var r,i,o=t.items[n[e].item],a=n[e].depth;if(o.isFolder&&(null===(r=b.expandedItems)||void 0===r?void 0:r.includes(o.index)))null===(i=t.onCollapseItem)||void 0===i||i.call(t,o,v);else if(a>0){for(var u=e;n[u].depth!==a-1;u-=1);return u}return e}))}),x&&!I.isProgrammaticallyDragging),(0,o.useHotkey)("primaryAction",(function(e){var n,r;e.preventDefault(),void 0!==b.focusedItem&&(null===(n=t.onSelectItems)||void 0===n||n.call(t,[b.focusedItem],v),null===(r=t.onPrimaryAction)||void 0===r||r.call(t,t.items[b.focusedItem],v))}),D&&!I.isProgrammaticallyDragging&&!P),(0,o.useHotkey)("toggleSelectItem",(function(e){var n,i,o;e.preventDefault(),e.stopPropagation(),void 0!==b.focusedItem&&(b.selectedItems&&b.selectedItems.includes(b.focusedItem)?null===(n=t.onSelectItems)||void 0===n||n.call(t,b.selectedItems.filter((function(e){return e!==b.focusedItem})),v):null===(i=t.onSelectItems)||void 0===i||i.call(t,r(r([],null!==(o=b.selectedItems)&&void 0!==o?o:[],!0),[b.focusedItem],!1),v))}),D&&!I.isProgrammaticallyDragging&&!P),(0,o.useHotkey)("selectAll",(function(e){var n;e.preventDefault(),null===(n=t.onSelectItems)||void 0===n||n.call(t,h.map((function(e){return e.item})),v)}),D&&!I.isProgrammaticallyDragging&&!P),(0,o.useHotkey)("renameItem",(function(e){var n;if(void 0!==b.focusedItem){e.preventDefault();var r=t.items[b.focusedItem];!1!==r.canRename&&(null===(n=t.onStartRenamingItem)||void 0===n||n.call(t,r,v),m(r.index))}}),D&&(null===(e=t.canRename)||void 0===e||e)&&!P),(0,o.useHotkey)("startSearch",(function(e){var t,n;e.preventDefault(),p(""),null===(n=null===(t=document.querySelector('[data-rct-search-input="true"]'))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)}),D&&!I.isProgrammaticallyDragging&&!P),(0,o.useHotkey)("startProgrammaticDnd",(function(e){e.preventDefault(),I.startProgrammaticDrag()}),D&&!P),(0,o.useHotkey)("completeProgrammaticDnd",(function(e){e.preventDefault(),I.completeProgrammaticDrag()}),D&&I.isProgrammaticallyDragging&&!P),(0,o.useHotkey)("abortProgrammaticDnd",(function(e){e.preventDefault(),I.abortProgrammaticDrag()}),D&&I.isProgrammaticallyDragging&&!P)}},6165:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useViewState=void 0;var r=n(5447),i=n(5144);t.useViewState=function(){var e,t=(0,r.useTree)().treeId;return null!==(e=(0,i.useTreeEnvironment)().viewState[t])&&void 0!==e?e:{}}},4207:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeActionsProvider=t.useTreeActions=void 0;var a=o(n(1024)),u=n(1024),l=n(2227),c=n(5144),s=n(3228),d=n(5447),f=n(6886),v=a.createContext(null);t.useTreeActions=function(){return a.useContext(v)},t.TreeActionsProvider=a.forwardRef((function(e,t){(0,c.useTreeEnvironment)();var n=(0,d.useTree)();(0,l.useDragAndDrop)();var r=(0,f.useEnvironmentActions)(),i=(0,u.useMemo)((function(){return{abortRenamingItem:function(){n.setRenamingItem(null)},abortSearch:function(){n.setSearch(null)},collapseItem:function(e){r.collapseItem(e,n.treeId)},completeRenamingItem:function(){},expandItem:function(e){r.expandItem(e,n.treeId)},focusItem:function(e,t){void 0===t&&(t=!0),r.focusItem(e,n.treeId,t)},focusTree:function(e){void 0===e&&(e=!0),r.focusTree(n.treeId,e)},invokePrimaryAction:function(e){r.invokePrimaryAction(e,n.treeId)},moveFocusDown:function(){r.moveFocusDown(n.treeId)},moveFocusUp:function(){r.moveFocusUp(n.treeId)},renameItem:function(e,t){r.renameItem(e,t,n.treeId)},selectItems:function(e){r.selectItems(e,n.treeId)},setSearch:function(e){n.setSearch(e)},startRenamingItem:function(e){n.setRenamingItem(e)},stopRenamingItem:function(){n.setRenamingItem(null)},toggleItemExpandedState:function(e){r.toggleItemExpandedState(e,n.treeId)},toggleItemSelectStatus:function(e){r.toggleItemSelectStatus(e,n.treeId)},expandAll:function(){r.expandAll(n.treeId)},collapseAll:function(){r.collapseAll(n.treeId)},expandSubsequently:function(e){return r.expandSubsequently(n.treeId,e)}}}),[r,n]);return(0,s.useCreatedTreeRef)(t,i),a.createElement(v.Provider,{value:i},e.children)}))},3228:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreatedTreeRef=void 0;var i=n(1024),o=n(5144),a=n(2227),u=n(5447);t.useCreatedTreeRef=function(e,t){var n=(0,o.useTreeEnvironment)(),l=(0,u.useTree)(),c=(0,a.useDragAndDrop)();(0,i.useImperativeHandle)(e,(function(){return r(r(r({},t),{treeEnvironmentContext:n,dragAndDropContext:c,treeContext:l}),l.treeInformation)}))}},3735:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemChildren=void 0;var i=r(n(1024)),o=n(3307),a=n(5447);t.TreeItemChildren=function(e){for(var t=(0,a.useTree)(),n=t.renderers,r=t.treeInformation,u=[],l=0,c=e.children;l<c.length;l++){var s=c[l];u.push(i.default.createElement(o.TreeItemElement,{key:s,itemIndex:s,depth:e.depth}))}if(0===u.length)return null;var d={role:0!==e.depth?"group":void 0};return n.renderItemsContainer({children:u,info:r,containerProps:d,depth:e.depth,parentId:e.parentId})}},3307:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemElement=void 0;var a=o(n(1024)),u=n(3735),l=n(6165),c=n(5447),s=n(5144),d=n(7165),f=n(7472);t.TreeItemElement=function(e){var t,n,r,i,o=(0,a.useState)(!1),v=o[0],m=o[1],p=(0,c.useTree)(),g=p.renderers,h=p.treeInformation,I=p.renamingItem,b=(0,s.useTreeEnvironment)(),y=(0,l.useViewState)(),_=b.items[e.itemIndex],D=(0,a.useMemo)((function(){var t;return null===(t=y.expandedItems)||void 0===t?void 0:t.includes(e.itemIndex)}),[e.itemIndex,y.expandedItems]),P=(0,d.useTreeItemRenderContext)(_);if(void 0===_||void 0===P)return v||(m(!0),null===(t=b.onMissingItems)||void 0===t||t.call(b,[e.itemIndex])),null;var x=null!==(r=null===(n=b.shouldRenderChildren)||void 0===n?void 0:n.call(b,_,P))&&void 0!==r?r:_.isFolder&&D,O=_.children&&x&&a.default.createElement(u.TreeItemChildren,{depth:e.depth+1,parentId:e.itemIndex},_.children),w=b.getItemTitle(_),T=I===e.itemIndex?a.default.createElement(f.TreeItemRenamingInput,{itemIndex:e.itemIndex}):g.renderItemTitle({info:h,context:P,title:w,item:_}),E=g.renderItemArrow({info:h,context:P,item:b.items[e.itemIndex]});return null!==(i=g.renderItem({item:b.items[e.itemIndex],depth:e.depth,title:T,arrow:E,context:P,info:h,children:O}))&&void 0!==i?i:null}},7472:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItemRenamingInput=void 0;var r=n(1024),i=n(5447),o=n(5144),a=n(119),u=n(6160),l=n(5260);t.TreeItemRenamingInput=function(e){var t=(0,i.useTree)(),n=t.renderers,c=t.treeInformation,s=t.setRenamingItem,d=t.treeId,f=(0,o.useTreeEnvironment)(),v=(0,r.useRef)(null),m=(0,r.useRef)(null),p=f.items[e.itemIndex],g=(0,r.useState)(f.getItemTitle(p)),h=g[0],I=g[1],b=(0,l.useCallSoon)(!0),y=function(){var e;null===(e=f.onAbortRenamingItem)||void 0===e||e.call(f,p,c.treeId),s(null),b((function(){f.setActiveTree(d)}))},_=function(){var e;null===(e=f.onRenameItem)||void 0===e||e.call(f,p,h,c.treeId),s(null),b((function(){f.setActiveTree(d)}))};(0,u.useSideEffect)((function(){var e,t,n,r;f.setActiveTree(d),(null===(e=f.autoFocus)||void 0===e||e)&&(null===(t=v.current)||void 0===t||t.select(),null===(r=null===(n=v.current)||void 0===n?void 0:n.focus)||void 0===r||r.call(n))}),[f,d],[]),(0,a.useHotkey)("abortRenameItem",(function(){y()}),!0,!0);var D={value:h,onChange:function(e){I(e.target.value)},onBlur:function(e){e.relatedTarget&&e.relatedTarget===m.current||y()},"aria-label":"New item name",tabIndex:0},P={onClick:function(e){e.stopPropagation(),_()}},x={onSubmit:function(e){e.preventDefault(),_()}};return n.renderRenameInput({item:p,inputRef:v,submitButtonProps:P,submitButtonRef:m,formProps:x,inputProps:D})}},7165:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useTreeItemRenderContext=void 0;var o=n(1024),a=n(8091),u=n(5447),l=n(5144),c=n(6981),s=n(2227),d=n(578),f=n(3238);t.useTreeItemRenderContext=function(e){var t,n,v,m,p=(0,u.useTree)(),g=p.treeId,h=p.search,I=p.renamingItem,b=p.setRenamingItem,y=(0,l.useTreeEnvironment)(),_=(0,c.useInteractionManager)(),D=(0,s.useDragAndDrop)(),P=(0,d.useSelectUpTo)("last-focus"),x=e&&y.getItemTitle(e),O=(0,f.useGetOriginalItemOrder)(),w=(0,o.useMemo)((function(){var t;return!(null===h||0===h.length||!e||!x)&&(null!==(t=y.doesSearchMatchItem)&&void 0!==t?t:a.defaultMatcher)(h,e,x)}),[h,e,x,y.doesSearchMatchItem]),T=e&&(null===(n=null===(t=y.viewState[g])||void 0===t?void 0:t.selectedItems)||void 0===n?void 0:n.includes(e.index)),E=e&&(null===(m=null===(v=y.viewState[g])||void 0===v?void 0:v.expandedItems)||void 0===m?void 0:m.includes(e.index)),C=e&&I===e.index;return(0,o.useMemo)((function(){var t,n,o,a,u,l,c,s,d;if(e){var f=y.viewState[g],v=(null!==(n=null===(t=null==f?void 0:f.selectedItems)||void 0===t?void 0:t.map((function(e){return y.items[e]})))&&void 0!==n?n:(null==f?void 0:f.focusedItem)?[y.items[null==f?void 0:f.focusedItem]]:[]).filter((function(e){return!!e})),m=!!v.find((function(t){return t.index===e.index})),p=v&&(null===(a=null===(o=y.canDrag)||void 0===o?void 0:o.call(y,v))||void 0===a||a)&&v.map((function(e){var t;return null===(t=e.canMove)||void 0===t||t})).reduce((function(e,t){return e&&t}),!0),h=(null===(l=null===(u=y.canDrag)||void 0===u?void 0:u.call(y,[e]))||void 0===l||l)&&(null===(c=e.canMove)||void 0===c||c),I=y.canDragAndDrop&&(m&&p||!m&&h),x=y.canDragAndDrop&&!!(null===(d=null===(s=D.viableDragPositions)||void 0===s?void 0:s[g])||void 0===d?void 0:d.find((function(t){return"item"===t.targetType&&t.targetItem===e.index}))),M={primaryAction:function(){var t;null===(t=y.onPrimaryAction)||void 0===t||t.call(y,y.items[e.index],g)},collapseItem:function(){var t;null===(t=y.onCollapseItem)||void 0===t||t.call(y,e,g)},expandItem:function(){var t;null===(t=y.onExpandItem)||void 0===t||t.call(y,e,g)},toggleExpandedState:function(){var t,n;E?null===(t=y.onCollapseItem)||void 0===t||t.call(y,e,g):null===(n=y.onExpandItem)||void 0===n||n.call(y,e,g)},selectItem:function(){var t;null===(t=y.onSelectItems)||void 0===t||t.call(y,[e.index],g)},addToSelectedItems:function(){var t,n;null===(t=y.onSelectItems)||void 0===t||t.call(y,i(i([],null!==(n=null==f?void 0:f.selectedItems)&&void 0!==n?n:[],!0),[e.index],!1),g)},unselectItem:function(){var t,n,r;null===(t=y.onSelectItems)||void 0===t||t.call(y,null!==(r=null===(n=null==f?void 0:f.selectedItems)||void 0===n?void 0:n.filter((function(t){return t!==e.index})))&&void 0!==r?r:[],g)},selectUpTo:function(t){P(e,t)},startRenamingItem:function(){b(e.index)},stopRenamingItem:function(){b(null)},focusItem:function(t){var n;void 0===t&&(t=!0),null===(n=y.onFocusItem)||void 0===n||n.call(y,e,g,t)},startDragging:function(){var t,n,r=null!==(t=null==f?void 0:f.selectedItems)&&void 0!==t?t:[];if(r.includes(e.index)||(r=[e.index],null===(n=y.onSelectItems)||void 0===n||n.call(y,r,g)),I){var i=O(g,r.map((function(e){return y.items[e]})));D.onStartDraggingItems(i,g)}}},S={isSelected:T,isExpanded:E,isFocused:(null==f?void 0:f.focusedItem)===e.index,isRenaming:C,isDraggingOver:D.draggingPosition&&"item"===D.draggingPosition.targetType&&D.draggingPosition.targetItem===e.index&&D.draggingPosition.treeId===g,isDraggingOverParent:!1,isSearchMatching:w,canDrag:I,canDropOn:x},j=r(r({},_.createInteractiveElementProps(e,g,M,S,f)),{"data-rct-item-interactive":!0,"data-rct-item-focus":S.isFocused?"true":"false","data-rct-item-id":e.index}),k=r({},{"data-rct-item-container":"true"}),R={role:"treeitem","aria-selected":S.isSelected,"aria-expanded":e.isFolder?S.isExpanded?"true":"false":void 0},A={onClick:function(){e.isFolder&&M.toggleExpandedState(),M.selectItem()},onFocus:function(){M.focusItem()},onDragOver:function(e){e.preventDefault()},"aria-hidden":!0,tabIndex:-1},L=f?Object.entries(f).reduce((function(t,n){var r=n[0],i=n[1];return t[r]=Array.isArray(i)?i.includes(e.index):i===e.index,t}),{}):{};return r(r(r({},M),S),{interactiveElementProps:j,itemContainerWithChildrenProps:R,itemContainerWithoutChildrenProps:k,arrowProps:A,viewStateFlags:L})}}),[e,y,g,D,T,E,C,w,_,P,b,O])}},9699:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionMode=void 0,(n=t.InteractionMode||(t.InteractionMode={})).DoubleClickItemToExpand="double-click-item-to-expand",n.ClickItemToExpand="click-item-to-expand",n.ClickArrowToExpand="click-arrow-to-expand"},5868:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompleteTreeDataProvider=void 0;var i=function(){function e(e){this.provider=e}return e.prototype.getTreeItem=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,this.provider.getTreeItem(e)]}))}))},e.prototype.getTreeItems=function(e){return n(this,void 0,void 0,(function(){var t=this;return r(this,(function(n){return[2,this.provider.getTreeItems?this.provider.getTreeItems(e):Promise.all(e.map((function(e){return t.provider.getTreeItem(e)})))]}))}))},e.prototype.onChangeItemChildren=function(e,t){var i,o;return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,null===(o=(i=this.provider).onChangeItemChildren)||void 0===o?void 0:o.call(i,e,t)]}))}))},e.prototype.onDidChangeTreeData=function(e){return this.provider.onDidChangeTreeData?this.provider.onDidChangeTreeData(e):{dispose:function(){}}},e.prototype.onRenameItem=function(e,t){var i,o;return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,null===(o=(i=this.provider).onRenameItem)||void 0===o?void 0:o.call(i,e,t)]}))}))},e}();t.CompleteTreeDataProvider=i},5575:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticTreeDataProvider=void 0;var o=n(9660),a=function(){function e(e,t){this.onDidChangeTreeDataEmitter=new o.EventEmitter,this.data={items:e},this.setItemName=t}return e.prototype.getTreeItem=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.data.items[e]]}))}))},e.prototype.onChangeItemChildren=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.data.items[e].children=t,this.onDidChangeTreeDataEmitter.emit([e]),[2]}))}))},e.prototype.onDidChangeTreeData=function(e){var t=this,n=this.onDidChangeTreeDataEmitter.on((function(t){return e(t)}));return{dispose:function(){return t.onDidChangeTreeDataEmitter.off(n)}}},e.prototype.onRenameItem=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return this.setItemName&&(this.data.items[e.index]=this.setItemName(e,t)),[2]}))}))},e}();t.StaticTreeDataProvider=a},2674:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.UncontrolledTreeEnvironment=void 0;var s=a(n(1024)),d=n(1024),f=n(5144),v=n(5868),m=n(1041),p=n(8836);t.UncontrolledTreeEnvironment=s.forwardRef((function(e,t){var n=(0,d.useState)({}),i=n[0],o=n[1],a=(0,d.useState)(e.viewState),g=a[0],h=a[1],I=(0,p.useRefCopy)(g),b=(0,d.useRef)([]),y=(0,d.useMemo)((function(){return new v.CompleteTreeDataProvider(e.dataProvider)}),[e.dataProvider]),_=(0,m.useIsMounted)(),D=(0,d.useCallback)((function(e){_.current&&o((function(t){return r(r({},t),e)}))}),[_]),P=(0,d.useCallback)((function(e,t){h((function(n){var i,o;return r(r({},n),((i={})[e]=r(r({},n[e]),t(null!==(o=n[e])&&void 0!==o?o:{})),i))}))}),[]);return(0,d.useEffect)((function(){var e=y.onDidChangeTreeData((function(e){y.getTreeItems(e).then((function(e){D(e.map((function(e){var t;return(t={})[e.index]=e,t})).reduce((function(e,t){return r(r({},e),t)}),{}))}))})).dispose;return e}),[y,D]),s.createElement(f.ControlledTreeEnvironment,r({},e,{ref:t,viewState:g,items:i,onExpandItem:function(t,n){var i;P(n,(function(e){var n;return r(r({},e),{expandedItems:c(c([],null!==(n=e.expandedItems)&&void 0!==n?n:[],!0),[t.index],!1)})})),null===(i=e.onExpandItem)||void 0===i||i.call(e,t,n)},onCollapseItem:function(t,n){var i;P(n,(function(e){var n;return r(r({},e),{expandedItems:null===(n=e.expandedItems)||void 0===n?void 0:n.filter((function(e){return e!==t.index}))})})),null===(i=e.onCollapseItem)||void 0===i||i.call(e,t,n)},onSelectItems:function(t,n){var i,o,a,u=null===(i=I.current[n])||void 0===i?void 0:i.focusedItem;if(e.disableMultiselect){var l=u?[u]:[];null===(o=e.onSelectItems)||void 0===o||o.call(e,l,n),P(n,(function(e){return r(r({},e),{selectedItems:l})}))}else null===(a=e.onSelectItems)||void 0===a||a.call(e,t,n),P(n,(function(e){return r(r({},e),{selectedItems:t})}))},onFocusItem:function(t,n){var i;P(n,(function(e){return r(r({},e),{focusedItem:t.index})})),null===(i=e.onFocusItem)||void 0===i||i.call(e,t,n)},onRenameItem:function(t,n,i){return u(void 0,void 0,void 0,(function(){var o,a,u;return l(this,(function(l){switch(l.label){case 0:return[4,y.onRenameItem(t,n)];case 1:return l.sent(),P(i,(function(e){return r(r({},e),{renamingItem:void 0})})),[4,y.getTreeItem(t.index)];case 2:return o=l.sent(),D(((a={})[t.index]=o,a)),null===(u=e.onRenameItem)||void 0===u||u.call(e,t,n,i),[2]}}))}))},onDrop:function(t,n){return u(void 0,void 0,void 0,(function(){var r,o,a,u,s,d,f,v,m,p,g,h,I,b,_;return l(this,(function(l){switch(l.label){case 0:for(r=[],o=t.map((function(e){return e.index})),a=0,u=function(e){var t=Object.values(i).find((function(t){var n,r;return null===(r=null===(n=null==t?void 0:t.children)||void 0===n?void 0:n.includes)||void 0===r?void 0:r.call(n,e.index)}));if(!t)throw Error('Could not find parent of item "'.concat(e.index,'"'));if(!t.children)throw Error('Parent "'.concat(t.index,'" of item "').concat(e.index,'" did not have any children'));if("between-items"===n.targetType&&n.parentItem===e.index)return{value:void 0};if("item"!==n.targetType&&"root"!==n.targetType||n.targetItem===t.index||r.push(y.onChangeItemChildren(t.index,t.children.filter((function(t){return t!==e.index})))),"between-items"===n.targetType)if(n.parentItem===t.index){var o=i[n.parentItem],u=(null!==(h=(null!==(g=o.children)&&void 0!==g?g:[]).findIndex((function(t){return t===e.index})))&&void 0!==h?h:1/0)<n.childIndex;a+=u?1:0}else r.push(y.onChangeItemChildren(t.index,t.children.filter((function(t){return t!==e.index}))))},s=0,d=t;s<d.length;s++)if(f=d[s],"object"==typeof(v=u(f)))return[2,v.value];return"item"===n.targetType||"root"===n.targetType?r.push(y.onChangeItemChildren(n.targetItem,c(c([],(null!==(I=i[n.targetItem].children)&&void 0!==I?I:[]).filter((function(e){return!o.includes(e)})),!0),o,!0))):(m=i[n.parentItem],(p=c([],null!==(b=m.children)&&void 0!==b?b:[],!0).filter((function(e){return!o.includes(e)}))).splice.apply(p,c([n.childIndex-a,0],o,!1)),r.push(y.onChangeItemChildren(n.parentItem,p))),[4,Promise.all(r)];case 1:return l.sent(),null===(_=e.onDrop)||void 0===_||_.call(e,t,n),[2]}}))}))},onMissingItems:function(t){var n,i;0===b.current.length&&setTimeout((function(){y.getTreeItems(b.current).then((function(e){D(e.map((function(e){var t;return(t={})[null==e?void 0:e.index]=e,t})).reduce((function(e,t){return r(r({},e),t)}),{}))})),b.current=[]})),(n=b.current).push.apply(n,t),null===(i=e.onMissingItems)||void 0===i||i.call(e,t)}}),e.children)}))},5260:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCallSoon=void 0;var r=n(1024);t.useCallSoon=function(e){void 0===e&&(e=!1);var t=(0,r.useRef)(new Array);return(0,r.useEffect)((function(){if(e)return function(){};var n=t.current;return function(){return n.forEach((function(e){return cancelAnimationFrame(e)}))}}),[e,t]),(0,r.useCallback)((function(e){var n=requestAnimationFrame((function(){t.current.splice(t.current.indexOf(n),1),e()}));t.current.push(n)}),[t])}},3238:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGetOriginalItemOrder=void 0;var r=n(5144),i=n(5265);t.useGetOriginalItemOrder=function(){var e=(0,r.useTreeEnvironment)();return(0,i.useStableHandler)((function(t,n){return n.map((function(n){return[n,e.linearItems[t].findIndex((function(e){return e.item===n.index}))]})).sort((function(e,t){e[0];var n=e[1];return t[0],n-t[1]})).map((function(e){return e[0]}))}))}},408:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHtmlElementEventListener=void 0;var r=n(1024),i=n(5265);t.useHtmlElementEventListener=function(e,t,n){var o=(0,i.useStableHandler)(n);(0,r.useEffect)((function(){return e?(e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}):function(){}}),[e,o,t])}},1041:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsMounted=void 0;var r=n(1024);t.useIsMounted=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},8836:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRefCopy=void 0;var r=n(1024);t.useRefCopy=function(e){var t=(0,r.useRef)(e);return t.current=e,t}},6160:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.useSideEffect=void 0;var i=n(1024);t.useSideEffect=function(e,t,n){var o=(0,i.useRef)();(0,i.useEffect)((function(){o.current?o.current.some((function(e,t){return e!==n[t]}))&&(o.current=r([],n,!0),e()):(o.current=r([],n,!0),e())}),r(r([],t,!0),n,!0))}},5265:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useStableHandler=void 0;var r=n(1024),i=n(8836);t.useStableHandler=function(e){var t=(0,i.useRefCopy)(e);return(0,r.useCallback)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(t,e)}),[t])}},8593:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getDocument=t.buildMapForTrees=void 0,t.buildMapForTrees=function(e,t){return e.map((function(e){return[e,t(e)]})).reduce((function(e,t){var r,i=t[0],o=t[1];return n(n({},e),((r={})[i]=o,r))}),{})},t.getDocument=function(){return"undefined"!=typeof document?document:void 0}},7134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.waitFor=void 0,t.waitFor=function(e,t,n){return void 0===t&&(t=50),void 0===n&&(n=1e4),new Promise((function(r){var i;e()&&r();var o=setInterval((function(){e()&&i()}),t),a=setTimeout((function(){i()}),n);i=function(){clearInterval(o),clearTimeout(a),r()}}))}},1024:t=>{t.exports=e}},n={};return function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}(3607)})()));
//# sourceMappingURL=bundle.js.map